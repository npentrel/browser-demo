<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <title>Viam Demo</title>
    <link rel="icon" href="favicon.ico" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link href="styles.css" rel="stylesheet">
    <link href="prism.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <script type="module" src="main.js"></script>
    <script src="prism.js"></script>

    <div id="layout">
      <!-- Menu toggle -->
      <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
      </a>
  
      <div id="menu">
          <div class="pure-menu">
              <a class="pure-menu-heading pure-menu-selected" href="#home" id="home_select">Viam Labs</a>
  
              <ul class="pure-menu-list">
                <li class="pure-menu-item" id="system_select"><a href="#system"  class="pure-menu-link">System monitoring</a></li>
                  <li class="pure-menu-item" id="object_select"><a href="#object"  class="pure-menu-link">Object detection and TTS</a></li>
                  <li class="pure-menu-item" id="gesture_select"><a href="#gesture"  class="pure-menu-link">Gesture detection and LLMs</a></li>
                  <li class="pure-menu-item" id="vlm_select"><a href="#vlm"  class="pure-menu-link">STT and VLMs</a></li>

                  <li class="pure-menu-item" id="more_select">
                      <a href="#more" class="pure-menu-link">Try more</a>
                  </li>
                </ul>
          </div>
      </div>

      <div id="main">
        <div class="header"><h1>Viam Resource Playground</h1></div>

        <div class="content" id="home_content">
          <p><a href="https://viam.com">Viam</a> is a platform that allows you to compose a smart machine or robotics project from any number of components or services through configuration.
            Components typically represent physical hardware, while services represent higher-level functionality - often integrating with physical hardware or other technologies like Machine Learning, Artificial Intelligence, or external APIs.
            Viam components and services that are configured as part of a machine present an API that can then be interfaced with through secure SDKs in the programming language of your choice. 
          </p> 
          <p>
            Here, you can interact with a number of built-in and modular Viam resources running on a Google Cloud Platform (GCP) through Viam's TypeScript SDK.
          </p>
          <p>
          Click on the menu to choose a demo, or go to the first one: <a href="/#system" onclick="document.getElementById('system_select').click();">System monitoring</a>
          </p>
        </div>

        <div class="content" id="system_content" style="display: none;">
          <p>Here, we are getting real-time system data from our server using a <a href="https://app.viam.com/module/aleparedes/viam-telegraf-sensor">module from the Viam registry</a> that provides a <a href="https://www.influxdata.com/time-series-platform/telegraf/">Telegraf</a> sensor component.
          You can use data collected from this or other modules to create realtime monitoring or management dashboards, and also collect and use this data with Viam's <a href="https://docs.viam.com/data/">Data Management</a> solution.
          </p>
          <div class="pure-g">
            <div class="pure-u-1-3">
              <p>
              <table class="pure-table" id="system_table"></table>
              </p>
            </div>
            <div class="pure-u-2-3">
              <p style="padding-left: 1em;">
                The Javascript code that uses Viam's <a href="https://docs.viam.com/components/sensor/#api">Sensor API</a> to retrieve system stats from the Telegraf module looks like this:
              </p>
              <div style="height:180px;width:625px;overflow:auto;padding-left: 1em;">
              <pre><code class="language-javascript">
import { createRobotClient, SensorClient } from '@viamrobotics/sdk';
client = createRobotClient({...});
const system_monitor = new SensorClient(client, 'telegraf');
const stats = await system_monitor.getReadings();
// now do something with the stats like display in a table
              </code></pre></div>
              <p style="padding-left: 1em;">
                Viam has a number of other language specific <a href="https://docs.viam.com/sdks/">SDKs</a> that you can use with your projects to interact with components and services.
                For example, code with the same functionality would look like this in Python:
              </p>
              <div style="height:200px;width:625px;overflow:auto;padding-left: 1em;">
                <pre><code class="language-python">
  from viam.robot.client import RobotClient
  from viam.components.sensor import Sensor
  client = await RobotClient.at_address(...)
  system_monitor = Sensor.from_robot(robot, 'telegraf');
  stats = await system_monitor.get_readings();
  # now do something with the stats
                </code></pre></div>
            </div>
          </div>
        </div>

        <div class="content" id="object_content" style="display: none;">
          <p>
            All Viam <a href="https://docs.viam.com/components/">components</a> and <a href="https://docs.viam.com/services/">services</a> implement an <a href="https://docs.viam.com/build/program/apis/">API</a>, providing an interface that is consistent across all models of that service.
          </p> 
          <p>
            One type of built-in service that Viam provides is a <a href="https://docs.viam.com/ml/vision/">Vision service</a>, and all models of the Vision service implement the <a href="https://docs.viam.com/ml/vision/#api">rdk:service:vision API</a>.
            This API provides methods such as GetDetections() and GetDetectionsFromCamera().
          <p>  
            Select one of the detectors below to use it with images from your device's webcam.
            Each time a new class is detected, we'll use the TTS (text to speech) capability of the <a href="https://app.viam.com/module/viam-labs/speech">speech module</a> from Viam's <a href="https://docs.viam.com/registry/">registry</a> to say what is seen out-loud.     
          </p> 

            <div class="pure-g">
              <div class="pure-u-1-2">
                <p>
                <select name="detector-select" id="detector-select">
                  <option value="coco-detector">COCO efficientdet tflite detector</option>
                  <option value="red-detector">Color red detector</option>
                  <option value="face-detector">Deepface facial detector</option>
                </select>
                <button id="click-photo">Select</button>
                <br/>
                <canvas id="canvas" hidden width="640" height="480"></canvas>
                <canvas id="finalCanvas" width="640" height="480"></canvas>
              </div>
              </p>
              <div class="pure-u-1-2"><p>

                
              </p></div>
          </div>
      

        <div class="content" id="gesture_content" style="display: none;">
          gesture demo
        </div>

        <div class="content" id="vlm_content" style="display: none;">
          vlm demo
        </div>

        <div class="content" id="more_content" style="display: none;">
          more demo
        </div>


      </div>
    </div>

  </body>
</html>
